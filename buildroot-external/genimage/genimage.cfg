image boot.vfat{
	size = "${PART_BOOT_SIZE:-8M}"

	vfat {
		files = {
			"boot.scr"
		}
		label = "boot"
	}
}

image "${IMAGE_NAME}.img" {
	size = "${DISK_SIZE:-512M}"
	
	hdimage {
		partition-table-type = "gpt"
		align = 1M
	}

	partition linux-distro-os-bootloader {
		partition-type-uuid = "esp"
		partition-uuid = "b3dd0952-733c-4c88-8cba-cab9b8b4377f"
		image = "boot.vfat"
		size = "${PART_BOOT_SIZE:-8M}"
	}

	partition linux-distro-os-bootstate {
		partition-type-uuid = "linux"
		partition-uuid = "33236519-7f32-4dff-8002-3390b62c309d"
		size = "${PART_BOOTSTATE_SIZE:-2M}"
	}

    partition linux-distro-os-kernel0 {
        image = "zboot.img"
        partition-type-uuid = "linux"
        partition-uuid = "26700fc6-b0bc-4ccf-9837-ea1a4cba3e65"
        size = "${PART_KERNEL_SIZE:-16M}"
    }

    partition linux-distro-os-kernel1 {
        image = "zboot.img"
        partition-type-uuid = "linux"
        partition-uuid = "fc02a4f0-5350-406f-93a2-56cbed636b5f"
        size = "${PART_KERNEL_SIZE:-16M}"
    }

    partition linux-distro-os-rootfs0 {
		partition-type-uuid = "linux"
		partition-uuid = "8d3d53e3-6d49-4c38-8349-aff6859e82fd"
		image = "${ROOTFS_IMAGE:-rootfs.squashfs}"
		size = "${PART_ROOTFS_SIZE:-1G}"
	}

	partition linux-distro-os-rootfs1 {
		partition-type-uuid = "linux"
		partition-uuid = "a3ec664e-32ce-4665-95ea-7ae90ce9aa20"
		image = "${ROOTFS_IMAGE:-rootfs.squashfs}"
		size = "${PART_ROOTFS_SIZE:-1G}"
	}
}